// ScrollPatrol - Fires events when DOM elements scroll into view
// @andygrn 2013
(function(){function c(a){this.listeners=[];this.offset=a;var b=this;a=function(){b.check()};window.addEventListener?window.addEventListener("scroll",a,!1):window.attachEvent&&window.attachEvent("onscroll",a)}c.prototype.add=function(a){var b=document.getElementById(a.id),c=a.leave||function(){};this.listeners.push({element:b,enter:this.createBreakerFunction(a.enter||function(){}),leave:this.createBreakerFunction(c)});this.check()};c.prototype.check=function(){for(var a=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,b,c,e=0,d;d=this.listeners[e];e+=1)b=d.element.offsetTop-this.offset,c=b+d.element.offsetHeight,a>=b&&a<=c?(d.leave.reset(),d.enter(d.element,a)):(d.enter.reset(),d.leave(d.element,a))};c.prototype.createBreakerFunction=function(a){var b=function(){b.called||(b.called=!0,a.apply(a,arguments))};b.reset=function(){this.called=!1};return b};window.ScrollPatrol=c})();